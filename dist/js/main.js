$(function(){"use strict";function a(a,t){var e="";switch(t){case"all":e="modals/cases-gallery-all.html";break;case"photo":e="modals/cases-gallery-all.html";break;case"video":e="modals/cases-gallery-all.html"}$.ajax({url:e,dataType:"html",error:function(){console.warn("Проблема в получении данных для галереи")},success:function(t){$(a).find(".modal-content").html(t),renderIcons(),$(a).modal({backdropClass:"modal-backdrop is-cases-modal-backdrop"})}})}function t(a){$.ajax({url:"modals/reviews.html",dataType:"html",error:function(){console.warn("Проблема в получении данных для модального окна")},success:function(t){$(a).find(".modal-content").html(t),renderIcons(),$(a).modal({backdropClass:"modal-backdrop is-reviews-modal-backdrop"})}})}function e(a){a.on("click",".gallery-prev-btn",function(a){a.preventDefault();var t=$(this).closest(".modal-content").find(".flickity-enabled").data("flickity");t.previous(!0)}).on("click",".gallery-next-btn",function(a){a.preventDefault();var t=$(this).closest(".modal-content").find(".flickity-enabled").data("flickity");t.previous(!0)})}$('[data-type="review-gallery"], [data-type="clients-gallery"], [data-type="cases-gallery"], [data-type="clients-gallery"], [data-type="mobile-clients-gallery"]').flickity({pageDots:!1,prevNextButtons:!1,wrapAround:!0}),$(".block.is-reviews, .block.is-clients, .block.is-cases-videos, .block.is-cases-photos, .block.is-clients-photos").on("click",'[data-type="gallery-prev-handler"], [data-type="gallery-next-handler"]',function(a){a.preventDefault();var t=$(this).closest(".block").find(".flickity-enabled").data("flickity");switch($(this).data("type")){case"gallery-prev-handler":t.previous(!0);break;case"gallery-next-handler":t.next(!0)}}),$(".mobile-nav-handler").on("click",function(){var a=$(this).data("target");$(this).toggleClass("active"),$(a).modal({show:!1,backdropClass:"modal-backdrop is-mobile-nav-modal-backdrop"}).modal("toggle")}),$(".js-cases-blocks").on("click",".block",function(t){t.preventDefault();var e=$(this).data("target"),l=$(this).closest(".js-cases-blocks").find(".block").index($(this)),s=$(this).data("modal-type");$(e).data("flickityShowID",l),a($(e),s)}),$(document).on("shown.bs.modal",function(a){var t=$(a.target).data("flickityShowID");$(a.target).hasClass("cases-modal")?$(a.target).find(".cases-gallery").flickity({initialIndex:t,prevNextButtons:!1,pageDots:!1}):$(a.target).hasClass("reviews-modal")&&$(a.target).find(".reviews-modal-gallery").flickity({initialIndex:t,prevNextButtons:!1,pageDots:!1}),e($(a.target))}),$(".js-clients-blocks").on("click",".icon-review",function(){var a=$(this).data("target"),e=$(this).closest(".js-clients-blocks").find(".block").index($(this));$(a).data("flickityShowID",e),t($(a))})});